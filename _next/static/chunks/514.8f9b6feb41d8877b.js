"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{1349:function(e,t,r){r.d(t,{F:function(){return n}});var s=r(9477);let i=new s.Ilk;class n extends s.aNw{constructor(e){super(e),this.propertyNameMapping={},this.customPropertyMapping={}}load(e,t,r,i){let n=this,a=new s.hH6(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(r){try{t(n.parse(r))}catch(t){i?i(t):console.error(t),n.manager.itemError(e)}},r,i)}setPropertyNameMapping(e){this.propertyNameMapping=e}setCustomPropertyNameMapping(e){this.customPropertyMapping=e}parse(e){let t;function r(e,t=0){let r;let s="",i=/^ply([\s\S]*)end_header(\r\n|\r|\n)/.exec(e);null!==i&&(s=i[1]);let n={comments:[],elements:[],headerLength:t,objInfo:""},a=s.split(/\r\n|\r|\n/);for(let e=0;e<a.length;e++){let t=a[e];if(""===(t=t.trim()))continue;let s=t.split(/\s+/),i=s.shift();switch(t=s.join(" "),i){case"format":n.format=s[0],n.version=s[1];break;case"comment":n.comments.push(t);break;case"element":void 0!==r&&n.elements.push(r),(r={}).name=s[0],r.count=parseInt(s[1]),r.properties=[];break;case"property":r.properties.push(function(e,t){let r={type:e[0]};return"list"===r.type?(r.name=e[3],r.countType=e[1],r.itemType=e[2]):r.name=e[1],r.name in t&&(r.name=t[r.name]),r}(s,d.propertyNameMapping));break;case"obj_info":n.objInfo=t;break;default:console.log("unhandled",i,s)}}return void 0!==r&&n.elements.push(r),n}function n(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e);case"float":case"double":case"float32":case"float64":return parseFloat(e)}}function o(){let e={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[],faceVertexColors:[]};for(let t of Object.keys(d.customPropertyMapping))e[t]=[];return e}function l(e){let t=e.map(e=>e.name);function r(e){for(let r=0,s=e.length;r<s;r++){let s=e[r];if(t.includes(s))return s}return null}return{attrX:r(["x","px","posx"])||"x",attrY:r(["y","py","posy"])||"y",attrZ:r(["z","pz","posz"])||"z",attrNX:r(["nx","normalx"]),attrNY:r(["ny","normaly"]),attrNZ:r(["nz","normalz"]),attrS:r(["s","u","texture_u","tx"]),attrT:r(["t","v","texture_v","ty"]),attrR:r(["red","diffuse_red","r","diffuse_r"]),attrG:r(["green","diffuse_green","g","diffuse_g"]),attrB:r(["blue","diffuse_blue","b","diffuse_b"])}}function h(e,t){let r,s;let i=o();r=null!==(s=/end_header\s+(\S[\s\S]*\S|\S)\s*$/.exec(e))?s[1].split(/\s+/):[];let h=new a(r);e:for(let e=0;e<t.elements.length;e++){let r=t.elements[e],s=l(r.properties);for(let e=0;e<r.count;e++){let e=function(e,t){let r={};for(let s=0;s<e.length;s++){if(t.empty())return null;if("list"===e[s].type){let i=[],a=n(t.next(),e[s].countType);for(let r=0;r<a;r++){if(t.empty())return null;i.push(n(t.next(),e[s].itemType))}r[e[s].name]=i}else r[e[s].name]=n(t.next(),e[s].type)}return r}(r.properties,h);if(!e)break e;c(i,r.name,e,s)}}return u(i)}function u(e){let t=new s.u9r;for(let r of(e.indices.length>0&&t.setIndex(e.indices),t.setAttribute("position",new s.a$l(e.vertices,3)),e.normals.length>0&&t.setAttribute("normal",new s.a$l(e.normals,3)),e.uvs.length>0&&t.setAttribute("uv",new s.a$l(e.uvs,2)),e.colors.length>0&&t.setAttribute("color",new s.a$l(e.colors,3)),(e.faceVertexUvs.length>0||e.faceVertexColors.length>0)&&(t=t.toNonIndexed(),e.faceVertexUvs.length>0&&t.setAttribute("uv",new s.a$l(e.faceVertexUvs,2)),e.faceVertexColors.length>0&&t.setAttribute("color",new s.a$l(e.faceVertexColors,3))),Object.keys(d.customPropertyMapping)))e[r].length>0&&t.setAttribute(r,new s.a$l(e[r],d.customPropertyMapping[r].length));return t.computeBoundingSphere(),t}function c(e,t,r,s){if("vertex"===t)for(let t of(e.vertices.push(r[s.attrX],r[s.attrY],r[s.attrZ]),null!==s.attrNX&&null!==s.attrNY&&null!==s.attrNZ&&e.normals.push(r[s.attrNX],r[s.attrNY],r[s.attrNZ]),null!==s.attrS&&null!==s.attrT&&e.uvs.push(r[s.attrS],r[s.attrT]),null!==s.attrR&&null!==s.attrG&&null!==s.attrB&&(i.setRGB(r[s.attrR]/255,r[s.attrG]/255,r[s.attrB]/255).convertSRGBToLinear(),e.colors.push(i.r,i.g,i.b)),Object.keys(d.customPropertyMapping)))for(let s of d.customPropertyMapping[t])e[t].push(r[s]);else if("face"===t){let t=r.vertex_indices||r.vertex_index,n=r.texcoord;3===t.length?(e.indices.push(t[0],t[1],t[2]),n&&6===n.length&&(e.faceVertexUvs.push(n[0],n[1]),e.faceVertexUvs.push(n[2],n[3]),e.faceVertexUvs.push(n[4],n[5]))):4===t.length&&(e.indices.push(t[0],t[1],t[3]),e.indices.push(t[1],t[2],t[3])),null!==s.attrR&&null!==s.attrG&&null!==s.attrB&&(i.setRGB(r[s.attrR]/255,r[s.attrG]/255,r[s.attrB]/255).convertSRGBToLinear(),e.faceVertexColors.push(i.r,i.g,i.b),e.faceVertexColors.push(i.r,i.g,i.b),e.faceVertexColors.push(i.r,i.g,i.b))}}let d=this;if(e instanceof ArrayBuffer){let s=new Uint8Array(e),{headerText:i,headerLength:n}=function(e){let t=0,r=!0,s="",i=[],n=new TextDecoder().decode(e.subarray(0,5)),a=/^ply\r\n/.test(n);do{let n=String.fromCharCode(e[t++]);"\n"!==n&&"\r"!==n?s+=n:("end_header"===s&&(r=!1),""!==s&&(i.push(s),s=""))}while(r&&t<e.length);return!0===a&&t++,{headerText:i.join("\r")+"\r",headerLength:t}}(s),a=r(i,n);if("ascii"===a.format){let e=new TextDecoder().decode(s);t=h(e,a)}else t=function(e,t){let r=o(),s="binary_little_endian"===t.format,i=new DataView(e,t.headerLength),n,a=0;for(let e=0;e<t.elements.length;e++){let o=t.elements[e],h=o.properties,u=l(h);!function(e,t,r){function s(e,t,r){switch(t){case"int8":case"char":return{read:t=>e.getInt8(t),size:1};case"uint8":case"uchar":return{read:t=>e.getUint8(t),size:1};case"int16":case"short":return{read:t=>e.getInt16(t,r),size:2};case"uint16":case"ushort":return{read:t=>e.getUint16(t,r),size:2};case"int32":case"int":return{read:t=>e.getInt32(t,r),size:4};case"uint32":case"uint":return{read:t=>e.getUint32(t,r),size:4};case"float32":case"float":return{read:t=>e.getFloat32(t,r),size:4};case"float64":case"double":return{read:t=>e.getFloat64(t,r),size:8}}}for(let i=0,n=e.length;i<n;i++){let n=e[i];"list"===n.type?(n.countReader=s(t,n.countType,r),n.valueReader=s(t,n.itemType,r)):n.valueReader=s(t,n.type,r)}}(h,i,s);for(let e=0;e<o.count;e++){n=function(e,t){let r={},s=0;for(let i=0;i<t.length;i++){let n=t[i],a=n.valueReader;if("list"===n.type){let t=[],i=n.countReader.read(e+s);s+=n.countReader.size;for(let r=0;r<i;r++)t.push(a.read(e+s)),s+=a.size;r[n.name]=t}else r[n.name]=a.read(e+s),s+=a.size}return[r,s]}(a,h),a+=n[1];let e=n[0];c(r,o.name,e,u)}}return u(r)}(e,a)}else t=h(e,r(e));return t}}class a{constructor(e){this.arr=e,this.i=0}empty(){return this.i>=this.arr.length}next(){return this.arr[this.i++]}}},441:function(e,t,r){r.d(t,{a:function(){return h}});var s=r(9477);let i=new s.CJI,n=new s.Pa4,a=new s.FM8,o=new s.FM8,l=new s.FM8;class h{constructor(e){this.geometry=e.geometry,this.randomFunction=Math.random,this.indexAttribute=this.geometry.index,this.positionAttribute=this.geometry.getAttribute("position"),this.normalAttribute=this.geometry.getAttribute("normal"),this.colorAttribute=this.geometry.getAttribute("color"),this.uvAttribute=this.geometry.getAttribute("uv"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(e){return this.weightAttribute=e?this.geometry.getAttribute(e):null,this}build(){let e=this.indexAttribute,t=this.positionAttribute,r=this.weightAttribute,s=e?e.count/3:t.count/3,n=new Float32Array(s);for(let a=0;a<s;a++){let s=1,o=3*a,l=3*a+1,h=3*a+2;e&&(o=e.getX(o),l=e.getX(l),h=e.getX(h)),r&&(s=r.getX(o)+r.getX(l)+r.getX(h)),i.a.fromBufferAttribute(t,o),i.b.fromBufferAttribute(t,l),i.c.fromBufferAttribute(t,h),s*=i.getArea(),n[a]=s}let a=new Float32Array(s),o=0;for(let e=0;e<s;e++)o+=n[e],a[e]=o;return this.distribution=a,this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t,r,s){let i=this.sampleFaceIndex();return this.sampleFace(i,e,t,r,s)}sampleFaceIndex(){let e=this.distribution[this.distribution.length-1];return this.binarySearch(this.randomFunction()*e)}binarySearch(e){let t=this.distribution,r=0,s=t.length-1,i=-1;for(;r<=s;){let n=Math.ceil((r+s)/2);if(0===n||t[n-1]<=e&&t[n]>e){i=n;break}e<t[n]?s=n-1:r=n+1}return i}sampleFace(e,t,r,s,h){let u=this.randomFunction(),c=this.randomFunction();u+c>1&&(u=1-u,c=1-c);let d=this.indexAttribute,f=3*e,p=3*e+1,m=3*e+2;return d&&(f=d.getX(f),p=d.getX(p),m=d.getX(m)),i.a.fromBufferAttribute(this.positionAttribute,f),i.b.fromBufferAttribute(this.positionAttribute,p),i.c.fromBufferAttribute(this.positionAttribute,m),t.set(0,0,0).addScaledVector(i.a,u).addScaledVector(i.b,c).addScaledVector(i.c,1-(u+c)),void 0!==r&&(void 0!==this.normalAttribute?(i.a.fromBufferAttribute(this.normalAttribute,f),i.b.fromBufferAttribute(this.normalAttribute,p),i.c.fromBufferAttribute(this.normalAttribute,m),r.set(0,0,0).addScaledVector(i.a,u).addScaledVector(i.b,c).addScaledVector(i.c,1-(u+c)).normalize()):i.getNormal(r)),void 0!==s&&void 0!==this.colorAttribute&&(i.a.fromBufferAttribute(this.colorAttribute,f),i.b.fromBufferAttribute(this.colorAttribute,p),i.c.fromBufferAttribute(this.colorAttribute,m),n.set(0,0,0).addScaledVector(i.a,u).addScaledVector(i.b,c).addScaledVector(i.c,1-(u+c)),s.r=n.x,s.g=n.y,s.b=n.z),void 0!==h&&void 0!==this.uvAttribute&&(a.fromBufferAttribute(this.uvAttribute,f),o.fromBufferAttribute(this.uvAttribute,p),l.fromBufferAttribute(this.uvAttribute,m),h.set(0,0).addScaledVector(a,u).addScaledVector(o,c).addScaledVector(l,1-(u+c))),this}}},4210:function(e,t,r){r.d(t,{x:function(){return o}});var s=r(9477);let i={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};var n=r(7531),a=r(4604);class o{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),void 0===t){let r=e.getSize(new s.FM8);this._width=r.width,this._height=r.height,(t=new s.dd2(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:s.cLu})).texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new n.T(i),this.copyPass.material.blending=s.jFi,this.clock=new s.SUY}swapBuffers(){let e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){let t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){void 0===e&&(e=this.clock.getDelta());let t=this.renderer.getRenderTarget(),r=!1;for(let t=0,s=this.passes.length;t<s;t++){let s=this.passes[t];if(!1!==s.enabled){if(s.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(t),s.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),s.needsSwap){if(r){let t=this.renderer.getContext(),r=this.renderer.state.buffers.stencil;r.setFunc(t.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),r.setFunc(t.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==a.F&&(s instanceof a.F?r=!0:s instanceof a.M&&(r=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(void 0===e){let t=this.renderer.getSize(new s.FM8);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;let r=this._width*this._pixelRatio,s=this._height*this._pixelRatio;this.renderTarget1.setSize(r,s),this.renderTarget2.setSize(r,s);for(let e=0;e<this.passes.length;e++)this.passes[e].setSize(r,s)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}},4604:function(e,t,r){r.d(t,{F:function(){return i},M:function(){return n}});var s=r(8304);class i extends s.w{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,r){let s,i;let n=e.getContext(),a=e.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(s=0,i=1):(s=1,i=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),a.buffers.stencil.setFunc(n.ALWAYS,s,4294967295),a.buffers.stencil.setClear(i),a.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.color.setMask(!0),a.buffers.depth.setMask(!0),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(n.EQUAL,1,4294967295),a.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),a.buffers.stencil.setLocked(!0)}}class n extends s.w{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}},8304:function(e,t,r){r.d(t,{T:function(){return o},w:function(){return i}});var s=r(9477);class i{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}let n=new s.iKG(-1,1,1,-1,0,1),a=new s.u9r;a.setAttribute("position",new s.a$l([-1,3,0,-1,-1,0,3,-1,0],3)),a.setAttribute("uv",new s.a$l([0,2,0,0,2,0],2));class o{constructor(e){this._mesh=new s.Kj0(a,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,n)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}},4458:function(e,t,r){r.d(t,{C:function(){return n}});var s=r(9477),i=r(8304);class n extends i.w{constructor(e,t,r=null,i=null,n=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=n,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new s.Ilk}render(e,t,r){let s,i;let n=e.autoClear;e.autoClear=!1,null!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),null!==this.clearColor&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor)),null!==this.clearAlpha&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),!0==this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),!0===this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),null!==this.clearColor&&e.setClearColor(this._oldClearColor),null!==this.clearAlpha&&e.setClearAlpha(s),null!==this.overrideMaterial&&(this.scene.overrideMaterial=i),e.autoClear=n}}},7531:function(e,t,r){r.d(t,{T:function(){return n}});var s=r(9477),i=r(8304);class n extends i.w{constructor(e,t){super(),this.textureID=void 0!==t?t:"tDiffuse",e instanceof s.jyz?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=s.rDY.clone(e.uniforms),this.material=new s.jyz({name:void 0!==e.name?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new i.T(this.material)}render(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil)),this.fsQuad.render(e)}dispose(){this.material.dispose(),this.fsQuad.dispose()}}}}]);